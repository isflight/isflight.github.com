YUI.add("yui-throttle",function(t,n){t.throttle=function(n,r){if(r=r?r:t.config.throttleTime||150,-1===r)return function(){n.apply(this,arguments)};var i=t.Lang.now();return function(){var e=t.Lang.now();e-i>r&&(i=e,n.apply(this,arguments))}}},"3.16.0",{requires:["yui-base"]});
;M.add("mt-xsstorage",function(e){var t,n,o,a=e.mt.cookie,r=e.Lang,i=M&&M.Env["data-conf"]||{},c="http://"+(i.rootHost||"www.meituan.com"),u=M&&M.DOMAIN_HOST||"meituan.com",l="/xsstorage.html",m=function(){var e="teststorage",t="http:"===window.location.protocol;if(!window.JSON||!window.postMessage||!t)return!1;try{localStorage.setItem(e,e);var n=localStorage.getItem(e);return localStorage.removeItem(e),n===e}catch(o){return!1}}(),s=function(){if(t)return t;var n="_ls_";return t={getItem:function(e,t,o){e=n+e;var r=a.get(e);return o=o||null,t&&t.call(o,r),r},getAndRemove:function(e,n,o){var a=t.getItem(e,n,o);return localStorage.removeItem(e),a},setItem:function(t,o){t=n+t,r.isObject(o)&&(o=e.JSON.stringify(o)),a.set(t,o,a.getExpiresDate(30,0,0),"/",u)},removeItem:function(e){e=n+e,a.remove(e,"/",u)},appendItem:function(e,t){e=n+e;var o=a.get(e);a.set(e,o+t,a.getExpiresDate(30,0,0),"/",u)}}},g=function(){if(n)return n;var t=["setItem","removeItem","clear"];return n={getItem:function(e,t,n){var o=localStorage.getItem(e);return n=n||null,t&&t.call(n,o),o},getAndRemove:function(e,t,o){var a=n.getItem(e,t,o);return localStorage.removeItem(e),a},appendItem:function(e,t){var n=localStorage.getItem(e)||"";localStorage.setItem(e,n+t)}},e.Array.each(t,function(e){n[e]=function(){localStorage[e].apply(localStorage,arguments)}}),n},f=function(){if(o)return o;var t=e.Node.create('<iframe width="1" height="1" frameborder="0" style="position:absolute;top:0;left:-9999px;"></iframe>'),n={},a=0,r=[],i=!1;return o={getItem:function(e,t,n){o._apihub("getItem",{key:e,callback:t,context:n})},getAndRemove:function(e,t,n){o._apihub("getAndRemove",{key:e,callback:t,context:n})},setItem:function(e,t){o._apihub("setItem",{key:e,val:t})},appendItem:function(e,t){o._apihub("appendItem",{key:e,val:t})},removeItem:function(e){o._apihub("removeItem",{key:e})},clear:function(){o._apihub("clear")},_apihub:function(e,t){var c,u,l=t.callback,m={method:e,args:{key:t.key,value:t.val}};return l&&(c=a++,u=t.context||null,n[c]={cb:l,ctx:u},m.args.rid=c),i?void o._sendRequest(m):void r.push(m)},_sendRequest:function(n){var o=e.Node.getDOMNode(t);o.contentWindow.postMessage(e.JSON.stringify(n),c)},_handleMsg:function(t){if(t){var o,a=t.rid;!e.Lang.isUndefined(a)&&(o=n[a])&&(o.cb.call(o.ctx,t.value),delete n[a])}}},t.set("src",c+l),e.one("body").append(t),t.on("load",function(){i=!0,e.Array.each(r,o._sendRequest)}),e.one(window).on("message",function(e){if(e._event.origin===c){var t=JSON.parse(e._event.data);o._handleMsg(t)}}),o};e.namespace("mt.XSStorage"),e.mt.XSStorage={isSupportXSStorage:m,getInstance:function(e){e=e||{};var t=!!e.forceAsync,n=!!e.useCookie;return m?location.origin!==c||t?f():g():n?s():!1}}},"1.0.0",{requires:["mt-base"]});
;M.add("mt-beacon",function(t){function n(n){var o=n[0],e=h[o];return t.Lang.isFunction(e)?(e.apply(null,Array.prototype.slice.call(n,1)),!0):!1}function o(){var t=s.getInstance();t.getAndRemove(u,function(t){var n,o,e;if(t)for(t=t.split(l),t.shift(),n=0;o=t.pop();n++)e=d[n]=p._createImage(),e.src=o})}var e=t.config["mt-beacon"]||{},a=1,r=2,i=3,c=5,g=4,s=t.mt.XSStorage,l="FORCHROME",u="eventlist",f=!t.UA.ie&&s.isSupportXSStorage,m=null,d=YUI.Env.beacon=YUI.Env.beacon||{},b=e.mbq||"_mbq",h={},v=t.config.win,p={mbq:null,addBeaconMethods:function(o,e){t.Object.each(o,function(n,o){e&&(n=t.bind(n,e)),h[o]=n});var a,r=v[b]&&v[b]._q,i=0;if(r)for(;i!==r.length;)a=r[i],n(a)?r.splice(i,1):i++},getBeaconMethods:function(){return h},blog:function(n){var o={};n&&t.mix(o,n),e.blog&&e.blog.data&&t.mix(o,"function"==typeof e.blog.data?e.blog.data():e.blog.data),o.url||(o.url=this.getCurrentLocation().pathname),o.domain||(o.domain=this.getCurrentLocation().host),this.beacon(o,r)},asynclog:function(n){if(n){var o={};t.mix(o,n),e.asynclog&&e.asynclog.data&&t.mix(o,"function"==typeof e.asynclog.data?e.asynclog.data():e.asynclog.data),o.url||(o.url=this.getCurrentLocation().pathname),o.domain||(o.domain=this.getCurrentLocation().host),this.beacon(o,g)}},eventlog:function(n,o,e,a){var r={ca:n,ac:o,la:e};a&&t.mix(r,a),r.url=r.url||this.getCurrentLocation().href,this.beacon(r,i)},localEventlog:function(n,o,e,a){var r={ca:n,ac:o,la:e};a&&t.mix(r,a),r.url=r.url||this.getCurrentLocation().href,this.beacon(r,c)},errorlog:function(n,o,r){var i={type:"jsdebug",level:n||"fatal",msg:o};r&&t.mix(i,r),e.errorlog&&e.errorlog.data&&t.mix(i,"function"==typeof e.errorlog.data?e.errorlog.data():e.errorlog.data),this.beacon(i,a)},beacon:function(t,n){this._postconfig(t),this._send(t,n)},_postconfig:function(n){e.data&&t.mix(n,"function"==typeof e.data?e.data():e.data),n.time||(n.time=t.Lang.now()),!n.r&&t.config.doc.referrer&&(n.r=t.config.doc.referrer)},_send:function(n,b){var h,v=e.domainHost||this.getCurrentLocation().hostname,p=e.cdnDomainHost||this.getCurrentLocation().hostname,y=t.Lang.now(),_=d[y]=this._createImage(),L=this.getCurrentLocation().protocol;switch(b){case a:h="https:"===L?L+"//felog."+v+"/_.gif":L+"//fe."+p+"/_.gif";break;case r:h=L+"//b."+v+"/_.gif";break;case i:h=L+"//b."+v+"/_mt.gif";break;case c:if(h=L+"//b."+v+"/_mt.gif",f){var C=h+"?"+t.QueryString.stringify(n);m&&clearTimeout(m);var q=s.getInstance();return q.appendItem(u,l+C),void(m=setTimeout(function(){o(),m=null},1e3))}break;case g:h=L+"//b."+v+"/_async.gif"}h&&(_.src=h+"?"+t.QueryString.stringify(n))},_createImage:function(){return new Image},getCache:function(){return d},getCurrentLocation:function(){return t.getLocation()}};t.namespace("mt.beacon"),t.mt.beacon=p,function(){var t=v[b]&&v[b]._q||[];v[b]=p.mbq=function(){var t=v[b]._q;n(arguments)||t.push(arguments)},v[b]._q=t,p.addBeaconMethods({blog:p.blog,eventlog:p.eventlog,localEventlog:p.localEventlog,asynclog:p.asynclog,errorlog:p.errorlog},p)}(),f&&o()},"1.0.0",{requires:["querystring-stringify-simple","mt-base","mt-xsstorage"]});
;M.add("mt-log",function(t){function n(n){var e,o;if(o=d._modules=d._modules||[],n&&o.push(n),d._isblogdone){for(e=o.length-1;e>=0;e--)a("asynclog",t.mix(o[e],d.pageviewData));d._modules=[]}}var e=t.config["mt-log"]||{},o=t.throttle,i=t.mt.beacon,a=i.mbq,r=function(){var t,n=0,i=10,r=500,d={};return function(c,u,g){if(!e.error||!e.error.disable){var v=c+u,f=d[v];f||(f=function(){n=t===v?n:0,t=v,n++>=i||a("errorlog",c,u,g)},d[v]=o(f,r)),f()}}}(),d={pageview:function(o){function i(){t.config.win._gat&&t.config.win._gat._getTracker?r():m>g?r(v):(t.config.win.setTimeout(function(){i()},u),m+=u)}function r(t){l||(d.pageviewData.expire=t||0,a("blog",d.pageviewData),l=!0,d._isblogdone=!0,n())}var d=this,c=200,u=100,g=15e3,v=1,f=2,m=0,l=!1;t.config.win.setTimeout(function(){o=o||{};var n={};t.mix(n,o.extra),t.mix(n,d._getNavigationTiming()),e.pageview&&e.pageview.data&&t.mix(n,"function"==typeof e.pageview.data?e.pageview.data():e.pageview.data),d.pageviewData=n,o.hasGA===!1?r():i(),t.one(t.config.win).on("beforeunload",function(){r(f)})},c)},moduleview:function(o){if(o&&o.pm){var i={};t.mix(i,o),e.moduleview&&e.moduleview.data&&t.mix(i,"function"==typeof e.moduleview.data?e.moduleview.data():e.moduleview.data),n(i)}},error:r,_getNavigationTiming:function(){function n(){var t=a.timing;if(t&&t.navigationStart){var n=[];n=o.map(function(n){return+t[n]||-1}).map(function(n){return n-=t.navigationStart,0>n?-1:n}),i.pt_start=t.navigationStart,i.pt_index=n.join(",")}}function e(){var t=a.navigation;t&&(i.pn_redirect=t.redirectCount,i.pn_type=t.type)}if("function"!=typeof[].map)return{};var o=["navigationStart","unloadEventStart","unloadEventEnd","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","secureConnectionStart","requestStart","responseStart","responseEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd"],i={},a=t.config.win.performance;return a?(n(),e(),i):{}}};t.namespace("mt.log"),t.mt.log=d,i.addBeaconMethods({trackPageview:d.pageview,trackModuleview:d.moduleview,logJsError:d.error},d),t.config.debug||(t.config.win.onerror=function(n,e,o){return d.error("fatal",n,{src:"window",url:e||t.getLocation().href,line:o}),!0})},"1.0.0",{requires:["node","yui-throttle","mt-beacon"]});
;M.add("mt-tracker",function(Y){function decodeAttr(nd,attr){var str=nd.getAttribute(attr);if(!str)return null;try{return eval("("+str+")")}catch(ex){return null}}var MT_EVENT="mtevent",GA_EVENT="gaevent",MT_MODULE="mod",MT_MODULE_EXTRA="mod-extra",D_MT_EVENT="data-"+MT_EVENT,D_MT_MODULE="data-"+MT_MODULE,_mbq=Y.mt.beacon.mbq;Y.namespace("mt.tracker"),Y.mt.tracker={init:function(){var t={mtevent:this.trackMTEvent,gaevent:this.trackGACustomEvent,gaexternal:this.trackGAExternalLink,mtmodule:this.trackMTModule};Y.Array.each(arguments,function(e){t[e]()})},trackMTModule:function(){var t=Y.one("body"),e="UserAction",a="Click",n="module/click";t.delegate("click",function(t){var r=t.target;if(r.hasClass("data-mod-enabled")||"a"===r.get("tagName").toLowerCase()||r.ancestor("a")){var c=this.getAttribute(D_MT_MODULE);if(!c||2===c.length){var i={pm:c},o=r.ancestor("a",!0),l=o&&o.getData(MT_MODULE_EXTRA);l&&(l=Y.JSON.parse(l),i=Y.mix(i,l)),_mbq("localEventlog",e,a,n,i)}}},"["+D_MT_MODULE+"]")},trackMTEvent:function(){var t=Y.one(document.body),e="data-mteventnd";t.delegate("click",function(){var t,a,n,r=decodeAttr(this,D_MT_EVENT),c={};r&&(this.ancestors("["+e+"]").each(function(t){Y.mix(c,decodeAttr(t,e),!0)}),"undefined"==typeof c.ca&&(c.ca="InnerLink"),"undefined"==typeof c.ac&&(c.ac="Click"),Y.mix(r,c),t=r.ca,a=r.ac,n=r.la,delete r.ca,delete r.ac,delete r.la,_mbq("localEventlog",t,a,n,r))},"["+D_MT_EVENT+"]")},trackGACustomEvent:function(){var t=Y.one(document.body),e=GA_EVENT;t.delegate("click",function(){var t=this.getAttribute(e);if(t){var a=t.split("|");a.length<3&&a.unshift("InnerLink","Click"),!a[2]&&this.get("href")&&(a[2]=this.get("href").replace("http://","")),_gaq&&_gaq.push(["_trackEvent"].concat(a))}},"["+e+"]")},trackGAExternalLink:function(){var t=Y.one(document.body);t.delegate("click",function(){var t,e,a=this.get("href"),n=/^(http:\/\/|mailto:)/;if(a&&n.test(a)){if(a=a.replace("http://",""),t=a.indexOf("?"),e=this.getAttribute("galabel"),t>0&&(a=a.substring(0,t)),/\.(meituan|mt|sankuai)\.com/.test(a))return;e&&(a+="#label="+e),_gaq&&_gaq.push(["_trackEvent","OutLink","Click",a])}},"a")}}},"1.0.0",{requires:["node","event","mt-beacon"]});
;M.add("www-acmtracker",function(n){function e(e){var i="",a=[],t={},r=e.length;n.Array.each(e,function(n,e){return i+=n,i.length>c?(a.push(i),void(i="")):void(e!==r-1&&(i+=","))}),i&&a.push(i),a.length&&n.Array.each(a,function(n){t.recv=n,window._mbq("asynclog",t)})}var c=1400,i={sendView:function(c){if(c&&c.length){var i;i=[],n.Lang.isString(c)&&(c=c.split(",")),n.Array.each(c,function(n){n&&i.push(n)}),e(i)}},sendClick:function(n){window._mbq("localEventlog","UserAction","Click","rec/hit",{reccacm:n})}};n.mt.beacon.addBeaconMethods({sendReclsView:i.sendView,sendReclsClick:i.sendClick},i)},"1.0.0",{requires:["www-base","mt-beacon"]});
;