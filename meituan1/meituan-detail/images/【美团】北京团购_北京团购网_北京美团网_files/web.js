!function e(t,n,r){function o(a,u){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!u&&c)return c(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+a+"'")}var s=n[a]={exports:{}};t[a][0].call(s.exports,function(e){var n=t[a][1][e];return o(n?n:e)},s,s.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){"use strict";var r=e("../core/util"),o="https:";navigator.userAgent.toLowerCase().match(/ie [6789]/)&&(o=location.protocol);var i=o+"//report.meituan.com",a={report:{host:i,dir:"/",type:"POST"},config:{host:i,dir:"/config",type:"GET"}};t.exports=function(e,t){var n={protocol:a[e].protocol,uri:a[e].host+a[e].dir,type:a[e].type};return t&&(n.uri=n.uri+"?"+r.parseParams(t)),n}},{"../core/util":7}],2:[function(e,t,n){"use strict";function r(e){return d.domain.getCookie(e)}function o(){var e=b.os;return e?[e.name,e.fullVersion].join(" "):g}function i(){return m.match(/^i\./gi)?"i":"www"}function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function u(){var e,t=+new Date;return e=f.get("uuid"),(!e||h<t-e.time)&&(e={id:a()+a()+a()+a()+a()+a()+a()}),e.time=t,f.set("uuid",e),f.save(!0),e.id}function c(){var e,t=+new Date;return e=f.get("msid"),(!e||h<t-e.time)&&(e={id:a()+a()+a()+a()+a()+a()+a()}),e.time=t,f.set("msid",e),f.save(!0),e.id}function s(e){l||(l=d.getParams(location.href,!0));var t="utm_"+e,n=l.uri[t];return n||(n=r(t)),n||""}var f,l,p,d=e("../core/util"),b=e("../module/ua"),v=e("../core/key"),g="unknown",h=18e5,m=location.hostname,w=function(){var e={app:"",sdk_ver:"2.2.1",appnm:"",category:"sdk_report",ch:"web",lch:s("source"),utm:{utm_source:s("source"),utm_medium:s("medium"),utm_term:s("term"),utm_content:s("content"),utm_campaign:s("campaign")},ct:i(),did:"",dm:b.device.name,ua:"",msid:r("IJSESSIONID")||r("JSESSIONID")||c(),lat:"",lng:"",net:"",os:o(),idfa:"",pushid:""};e[v.alive]=parseInt(+new Date/1e3);for(var t in e)e.hasOwnProperty(t)&&""===e[t]&&delete e[t];return e},y={};t.exports=function(e){if(y.env)return y;f=e.Data,p={uuid:r("iuuid")||r("uuid")||u(),appnm:"",autoStart:!0,alwaysSendReferrer:!1,report:{delay:8,first:!0},whiteList:{"meituan.com":1,"maoyan.com":1,"sankuai.com":1}},y.conf=function(e,t){return e&&t&&p.hasOwnProperty(e)&&(p[e]=t),e?p[e]:p};var t=w();return y.env=function(e,n){return e&&n&&(e in p?p[e]=n:t[e]=n.toString()),e?t[e]:t},y.reload=function(){y.env=w()},y}},{"../core/key":5,"../core/util":7,"../module/ua":16}],3:[function(e,t,n){function r(){this.id=o+100,this.intraId=o}var o=1e3*(+new Date+Math.ceil(1e4*Math.random()));r.prototype={prefix:function(){return o},update:function(e){return e?++this.intraId:++this.id},setUp:function(e){var t=e?++this.intraId:++this.id;return t.toString(16)}},t.exports=new r},{}],4:[function(e,t,n){function r(){}var o=e("./util"),i=(e("./base"),{}),a="sdk_report",u={};u[a]=!0;var c=+new Date+Math.ceil(1e4*Math.random());r.prototype={constructor:r,map:i,getDefault:function(){return a},getAll:function(){return o.extend(!0,{},this.map)},getId:function(){return c},getNS:function(e){var t="";return(t=this.map[e])||(t="#"+e+"#"+c.toString(16),this.map[e]=t),t}},t.exports=new r},{"./base":3,"./util":7}],5:[function(e,t,n){t.exports={env:"env",tag:"tag",evs:"evs",quit:"quit",reportData:"report_data",uploading:"uploading",timeout:"_timeout",alive:"_alive"}},{}],6:[function(e,t,n){function r(e){try{g.del(O.env+e)}catch(t){}try{g.del(O.tag+e)}catch(t){}try{g.del(O.evs+e)}catch(t){}}function o(e){var t,n,o,i,a=0,u=g.get(O.uploading)||[],c=g.get(O.reportData)||{},s=O.evs;if(e)for(var f in c)c.hasOwnProperty(f)&&100>a&&(u=u.concat(c[f]),delete c[f],a++);var l,p,d,b=g.load(),v=120,h=+new Date/1e3;if(b)for(var m in b)0===(d=m.indexOf(O.env))&&(n=m.replace(O.env,""),t=k(n,g,O),l=b[m],l&&(p=l[O.alive]),(!p||h-p>v)&&r(n),t&&(u.push(t),g.set(s+n,[]),b[s+n]=[]));return g.set(O.uploading,[]),u&&u.length&&(i=S.prefix()+T++,c[i]=u,o={token:i,ret:u}),u.length&&g.set(O.reportData,c),g.save(!0),o}function i(){return m.conf()}function a(e,t,n,r,o){switch(C=!1,e){case"success":return u(t,n,r,o);case"fail":default:return c(t,n,r,o)}}function u(e,t,n,r){var o=g.get(O.reportData),i=n.token;delete o[i],g.set(O.reportData,o),g.save(!0)}function c(e,t,n,r){D(function(){e(t,n,r)},3e3)}function s(){if(!C){var e=o(!0);e&&e.ret.length&&(C=!0,h.post(y("report").uri,e,a))}}function f(){o()}function l(e){s()}function p(){var e=0,t=i();return e=t&&t.report&&t.report.delay?t.report.delay:m({Data:g}).conf().report.delay}function d(e){var t=e;if(t){if(!x.is.numeric(t)||0>=t)return t=0,l(t);3>t||t>120?t=w:w=t}else t=w;d.isCheck||(b(t),d.isCheck=!0)}function b(e){var t=1e3*(e||w);_++,D(function(){if(C){var e=Math.random()*Math.pow(2,_),t=Math.min(e,w);t=parseFloat(t.toFixed(3)),10>_&&b(t)}else s(),D(b,0)},t)}function v(e){return this instanceof v?(g=e.Data,h=e.IO,m=e.Config,w=p(),void 0):new v(e)}var g,h,m,w,y=e("../conf/api"),x=e("../core/util"),S=e("../core/base"),k=e("../module/exportCache"),O=e("../core/key"),T=(e("./channelInfo"),0),C=!1,D=setTimeout,_=0;v.prototype={constructor:v,start:d,report:l,getAppConf:i,save:f},t.exports=v},{"../conf/api":1,"../core/base":3,"../core/key":5,"../core/util":7,"../module/exportCache":14,"./channelInfo":4}],7:[function(e,t,n){"use strict";function r(e){return Object.prototype.toString.call(e)}function o(e){return null===e?e+"":r(e).slice(8,-1).toLowerCase()}function i(e){return function(t){return r(t)==="[object "+e+"]"}}function a(e){return null!=e&&e==e.window}function u(e){var t;if(!e||!k(e)||e.nodeType||a(e))return!1;try{if(e.constructor&&!w.call(e,"constructor")&&!w.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(y.ownLast)for(t in e)return w.call(e,t);for(t in e);return void 0===t||w.call(e,t)}function c(e,t){return e.indexOf(t)>-1}function s(e,t){return 0===e.indexOf(t)}function f(e,t){var n=e.length,r=t.length;return n>=r&&e.indexOf(t)==n-r}function l(e){return O(e)?e.replace(/^\s+|\s+$/g,""):""}function p(){return location.host.match(/(.*\.)?(.*\.\w+)$/)}function d(e){var t=S.cookie.match(new RegExp("(?:^|;)\\s*"+e+"=([^;]+)"));return t?t[1]:""}function b(e){function t(e){var r,i=[];for(r in e)if(e.hasOwnProperty(r)){var a=e[r];a=T(a)?n(a):k(a)?t(a):o(a),i.push(r+"="+a)}return i.join("&")}function n(e){for(var r=0,i=e.length,a=[];i>r;r++){var u=e[r];u=T(u)?n(u):k(u)?t(u):o(u),a.push(u)}return a.join(",")}var r=[],o=encodeURIComponent;return T(e)?r.push(n(e)):k(e)?r.push(t(e)):r.push(o(e)),r.join("&")}function v(e,t){function n(e){if(!e)return null;for(var t=e.split("&"),n={};t.length;){var r=t.shift(),o=r.indexOf("=");if(0!==o||r.lastIndexOf("=")!==r.indexOf("=")){var i,a;if(-1!==o)i=r.substr(0,o),a=r.substr(o+1);else{if(!r)continue;i=r,a=void 0}n.hasOwnProperty(i)?("[object Array]"!=={}.toString.call(n[i])&&(n[i]=[n[i]]),n[i].push(u(a))):n[i]=u(a)}}return n}if(!e)return null;var r,o,i=e.indexOf("#"),a=e.substr(0,-1==i?e.length:i),u=decodeURIComponent;o=t?"":-1!==i&&e.lastIndexOf("#")===e.indexOf("#")?e.substr(i+1):"",r={uri:a,hash:n(o)};var c=r.uri.lastIndexOf("?");return-1===c?r:(r.uri=r.uri.substr(c+1),-1===r.uri?r:(r.uri=n(r.uri),r))}function g(){var e,t,n,r,o,i,a=arguments[0]||{},c=1,s=arguments.length,f=!1;for("boolean"==typeof a&&(f=a,a=arguments[c]||{},c++),"object"==typeof a||C(a)||(a={}),c===s&&(a=this,c--);s>c;c++)if(null!=(o=arguments[c]))for(r in o)e=a[r],n=o[r],a!==n&&(f&&n&&(u(n)||(t=T(n)))?(t?(t=!1,i=e&&T(e)?e:[]):i=e&&u(e)?e:{},a[r]=g(f,i,n)):void 0!==n&&(a[r]=n));return a}function h(e,t){if(e){var n,r,o,i=e.length,a=(e.splice||e.callee)instanceof Function;if(!isNaN(i)&&a)for(n=0;i>n&&(r=e[n],o=t.call(null,r,n,e),!1!==o);n++);else for(var u in e)if(r=e[u],o=t.call(null,r,u,e),!1===o)break}}function m(e,t){if(x===t)return e;var n,r,o;if(e=e||{},t instanceof Array)return[];for(var i in t)t.hasOwnProperty(i)&&(o=t[i],n=typeof e[i],r=typeof t[i],"object"===n?e[i]=m(e[i],t[i]):x===e[i]&&x!==o&&(e[i]="object"==r?m({},o):o));return e}var w=Object.hasOwnProperty,y={},x=void 0,S=document,k=i("Object"),O=i("String"),T=Array.isArray||i("Array"),C=i("Function"),D=i("Undefined"),_=i("Number"),j=function(e){return isNaN(e)===!1&&_(e)},P=function(e){var t="EventListener",n="add"+t;return e[n]?{on:function(e,t,r){e[n](t,r,!1)},off:function(e,n,r){e["remove"+t](n,r,!1)}}:{on:function(e,t,n){e.attachEvent("on"+t,n)},off:function(e,t,n){e.detachEvent("on"+t,n)}}}(window);t.exports={type:o,is:{object:k,string:O,array:T,func:C,undefined:D,numeric:j,contain:c,startWith:s,endWith:f,plainObject:u},trim:l,toString:r,extend:g,merge:m,domain:{getHost:p,getCookie:d},parseParams:b,getParams:v,each:h,on:P.on,off:P.off}},{}],8:[function(e,t,n){"use strict";function r(){this.version="0.0.1"}function o(e){if(!e)return!1;if(!e.action)return{cache:s,config:f};if(e.key)switch(e.action){case"get":return i(e.type)[e.key];case"set":return e.value?(i(e.type)[e.key]=e.value,i(e.type)[e.key]===e.value):!1;case"del":return e.key?(delete i(e.type)[e.key],!0):!1;default:return!1}else switch(e.action){case"get":return i(e.type);case"set":if(!e.value)switch(e.type){case"config":f={};break;case"cache":default:s={}}}}function i(e){switch(e){case"config":return f;case"cache":default:return s}}var a=e("../core/util"),u=e("../module/web.localstorage"),c="cache",s=u.get("cache")||{},f={};r.prototype.get=function(e,t){return t||(t=c),o(e?{action:"get",type:t,key:e}:{action:"get",type:t})},r.prototype.set=function(e,t,n){var r=arguments;return r.length>1?(e=r[0],t=r[1],n||(n=c),o({action:"set",type:n,key:e,value:t})):!1},r.prototype.del=function(){if(arguments.length>0){var e=arguments[0],t=c;return 2===arguments.length&&(t=arguments[1]),o({action:"del",type:t,key:e})}return!1},r.prototype.config=function(e,t){var n="config";switch(arguments.length){case 2:return this.set(e,t,n);case 1:return this.get(e,n);case 0:return f;default:return!1}},r.prototype.save=function(e){if(e)u.set("cache",s);else{var t=u.get("cache")||{};u.set("cache",a.extend(!0,t,s))}this.load()},r.prototype.load=function(){return s=u.get("cache")||{},u.get("cache")},r.prototype.storage=u,r.prototype.clear=function(){s={},this.save(!0)},t.exports=new r},{"../core/util":7,"../module/web.localstorage":18}],9:[function(e,t,n){"use strict";function r(){var e=navigator.connection||navigator.webkitConnection||navigator.mozConnection;return e&&e.type?navigator.connection.type:"unknown"}function o(e,t,n){if(!t)return!1;if(u>=c)return!1;if(!i.browser||"ie"!==i.browser.name||9!==i.browser.mode&&8!==i.browser.mode&&7!==i.browser.mode&&6!==i.browser.mode)try{var r=new XMLHttpRequest;"withCredentials"in r&&(r.open("POST",e,!0),r.timeout=15e3,r.setRequestHeader("Content-Type","text/plain"),r.onreadystatechange=function(){if(4==r.readyState){if(r.status>=200&&r.status<300||413==r.status){var i=!1;try{i=a.parse(r.response)}catch(s){i=!1}i?i.status&&200===i.status?(u=0,n("success",o,e,t,n)):(u=0,n("fail",o,e,t,n)):(u++,c>u&&n("fail",o,e,t,n))}else u++,n("fail",o,e,t,n);r.onreadystatechange=null}},r.onerror=function(){r.abort()},r.send(a.stringify(t.ret)))}catch(s){return!1}else if(XDomainRequest){var f=new XDomainRequest;f.open("POST",e,!0),f.onload=function(){u=0,n("success",o,e,t,n)},f.onerror=function(){f.abort()},f.ontimeout=function(){u++,n("fail",o,e,t,n)},f.timeout=5e3,f.send(a.stringify(t.ret))}return!0}var i=(e("../core/util"),e("../module/ua")),a=e("../module/web.json"),u=(document,"ie"===i.browser.name,0),c=3;t.exports={post:o,status:r}},{"../core/util":7,"../module/ua":16,"../module/web.json":17}],10:[function(e,t,n){"use strict";var r=e("../core/web.data"),o=e("../core/web.network"),i=e("../conf/config.js"),a=e("../core/report")({Data:r,IO:o,Config:i({Data:r})});t.exports=a},{"../conf/config.js":2,"../core/report":6,"../core/web.data":8,"../core/web.network":9}],11:[function(e,t,n){var r=e("./core/web.data"),o=e("./module/web.localstorage"),i=e("./module/web.json"),a=e("./core/web.report"),u=e("./module/channel")({Data:r,Report:a}),c=e("./module/main")({Data:r,LS:o,JSON:i,Report:a,Channel:u});t.exports=c},{"./core/web.data":8,"./core/web.report":10,"./module/channel":12,"./module/main":15,"./module/web.json":17,"./module/web.localstorage":18}],12:[function(e,t,n){function r(){return q=E,!0}function o(e){return!!R[e]}function i(e){}function a(e,t){return e=s(e),L(e)?void(c(e)?(q=e,N(t)&&b(t)):q=k(e,t)):r()}function u(e,t){var n=A.getNS(t);return e+n}function c(e){return L(e)?R[e]||T.get(u(P.env,e)):!1}function s(e){var t="data_sdk_",n=e;return e!==E&&e.indexOf(t)&&(n=t+e),n}function f(){return q}function l(e,t){var n=u(P.env,e),r=_.extend(!0,{},C.env());r.category=e;var o=_.extend(!0,r,t||{});return T.set(n,o),T.save(!0),o}function p(e,t){var n={};if(t instanceof Array){for(var r=t.length-1;r>=0;r--)n=w(n,t[r][0]);t=n}t=t||{};var o=T.get(e);T.set(e,w(t,o))}function d(e,t,n){var r,o=z.func(t);if(N(e))r=e,o&&(n=t);else if(L(e)&&!o)r={},r[e]=t;else{if(L(e)&&o)return{key:e,cb:t};z.array(e)}return{data:r,cb:n}}function b(e,t,n){var r,o,i=d(e,t,n);i&&i.data&&(D.save(),"appnm"===e&&t&&C.env(e,t),o=u(P.env,q),r=p(o,i.data),T.save(!0),n&&n(r))}function v(e,t,n){var r,o,i=d(e,t,n);i&&i.data?(D.save(),o=u(P.tag,q),r=p(o,i.data),T.save(!0),i.cb&&i.cb(r)):i&&i.key?S(i.key,i.cb):z.func(e)&&(n=e,S(n))}function g(e){if(e){var t=u(P.evs,q),n=[],r=T.get(t);r=r||[],z.array(e)||(e=[e]),r&&!z.array(r)&&(r=[r]),_.each(e,function(e){e instanceof Array?(_.each(e,y),n=n.concat(e)):(y(e),n.push(e))}),e=r.concat(n),T.set(t,e),T.save(!0)}}function h(e){e.tm===I&&(e.tm=new Date-0)}function m(e){for(var t in e)e[t]!==I&&"nm"!==t&&"val"!==t&&"tm"!==t&&delete e[t]}function w(e,t){if(I===t)return e;var n,r,o;e=e||{};for(var i in t)t.hasOwnProperty(i)&&(o=t[i],n=typeof e[i],r=typeof t[i],"object"===n?e[i]=w(e[i],t[i]):I===e[i]&&I!==o&&(e[i]="object"==r?w({},o):o));return e}function y(e){m(e),h(e)}function x(e,t){var n=T.get(u(P.env,q));z.func(e)&&(t=e,e=null),z.func(t)&&t(n&&e?n[e]:n,n)}function S(e,t){var n=T.get(u(P.tag,q));z.func(e)&&(t=e,e=null),z.func(t)&&t(n&&e?n[e]:n,n)}function k(e,t){return l(e,t),q=e,e}function O(e){return this instanceof O?(T=e.Data,C=j({Data:T}),void(D=e.Report)):new O(e)}var T,C,D,_=e("../core/util"),j=e("../conf/config"),P=e("../core/key"),A=e("../core/channelInfo"),I=void 0,z=_.is,L=z.string,N=z.object,E=A.getDefault(),q=E,R=A.map;O.prototype={constructor:O,curName:f,use:a,hasId:o,KEY:P,reloadEnv:i,set:b,get:x,tag:v,event:g},t.exports=O},{"../conf/config":2,"../core/channelInfo":4,"../core/key":5,"../core/util":7}],13:[function(e,t,n){function r(e){return e=e||{},e.cid||(e.cid=a.pathname+a.search+a.hash),e}function o(e,t,n,o,c){var s,f,l,p,d,b,v={},g=c.conf(),h={};if(e){if(h=i.merge(e,c.env()),h.appnm||(h.appnm=g.appnm||a.host),h.uuid||(h.uuid=g.uuid||""),h.ua||(h.ua=u),b=h.utm)for(var m in b)b[m]||delete b[m];if(s=h.category,n)for(d in n)n.hasOwnProperty(d)&&n[d]&&(p=!0,v[d]=n[d]);if(t&&t.length){for(var w=0,y=t.length;y>w;w++)if(f=t[w],l=f.val){r(l);for(d in l)(l[d]||!1===l[d])&&(f["val_"+d]=l[d]),delete l[d];delete f.val}h[o.evs]=t}return p&&(h[o.tag]=v),h._category_&&(h.category=h._category_),s?"sdk_report"!==s&&0>s.indexOf("data_sdk_")&&(h.category="data_sdk_"+s):h.category=e.category||"sdk_report",h[o.evs]&&!h[o.evs].length&&delete h[o.evs],h[o.tag]||delete h[o.tag],delete h[o.alive],h}}var i=e("../core/util"),a=location,u=navigator.userAgent.toString();t.exports=o},{"../core/util":7}],14:[function(e,t,n){function r(e,t,n){var r,u,c,s,f=!1,l=n.env+e,p=n.evs+e,d=n.tag+e;if(u=a.extend(!0,{},t.get(l)),c=t.get(p),s=t.get(d),s=a.extend(!0,{},s),u&&c&&c.length&&(r=o(u,c,s,n,i({Data:t})),r[n.evs]&&r[n.evs].length&&(t.set(p,[]),f=!0)),u[n.timeout]||/^#\d+#$/.test(e)){try{t.del(l)}catch(b){}try{t.del(p)}catch(b){}try{t.del(d)}catch(b){}delete u[n.timeout]}return f?r:null}var o=e("../module/combineData"),i=e("../conf/config"),a=e("../core/util");t.exports=r},{"../conf/config":2,"../core/util":7,"../module/combineData":13}],15:[function(e,t,n){function r(e){function t(e,t){function n(e,t){e=[].slice.call(t,1);var n,r,o=t[0],i=o.split(".");1<i.length&&(r=g.curName(),n=i[0],o=i[1]);var a=x[o];"function"==typeof a&&(n&&x.use(n),x[o].apply(x,e),n&&x.use(r))}if(e){for(var r,o,i=0,a=e.length;a>i;i++)r=e[i],n(o,r);t.q={push:function(e){return n(o,e),x}}}}function n(){function e(){var e=u.getAll();for(var t in e)x.use(t).set(a.timeout,1)}m&&m("group.event",{nm:"report",val:{act:"start",cid:d.title,val:b.href},tm:w}),i.on(c,y,function(){e()})}function r(){if(!f&&m){var e=parseInt(+new Date/1e3);for(var t in u.getAll())m(t+".set",a.alive,e);h(r,6e4)}}function s(){f||(x._sendDelay=!0,t(m.q,m),n(d),x._sendDelay=!1,x.report("now"),r(),f=!0)}var f,l=e.Data,p=o({Data:l}),d=document,b=location,v=e.Report,g=e.Channel,h=setTimeout,m=c[c._MeiTuanALogObject];m||(m=function(){return m.q.push(arguments),m},m.q=[]);var w=m.l||+new Date,y="beforeunload",x={init:function(e){try{this.use(e)}catch(t){}return x},config:function(e,t){return p.conf(e,t)||x},use:function(){try{g.use.apply(null,arguments)}catch(e){}return x},status:!0,get:function(){try{g.get.apply(null,arguments)}catch(e){}return x},set:function(){try{g.set.apply(null,arguments)}catch(e){}return x},event:function(e){try{var t=e instanceof Array;if(!e||t&&!e.length)return x;g.event(e),x._sendDelay||x.report()}catch(n){}return x},tag:function(){try{g.tag.apply(null,arguments)}catch(e){}return x},tracker:function(e,t){try{0===e.indexOf("error.")&&x.use(errorChannel).event({nm:"MGE",val:{val:d.domain,lab:t.join("\n")}})}catch(n){}},report:function(e){return v.start(),x._sendDelay||v.report(e),x},send:function(e,t){if("pv"==e){var n,r="";t=t||{},t=i.is.string(t)?{cid:t}:t,t.ref||(r=d.referrer,p.conf("alwaysSendReferrer")||(n=r.replace(/^(http|https)\:\/\//,"").split("/")[0],n===b.host&&(r=""))),t=i.extend(!0,{act:"pageview",cid:d.title,val:b.href,ref:r},t),x.event({nm:"MPT",val:t}),x.report("now")}},reload:g.reloadEnv,version:"2.2.1",_sendDelay:!0};x.start=s;var S=v.getAppConf();return S.autoStart&&s(),m._MTAObject=x,x}var o=e("../conf/config"),i=(e("../module/combineData"),e("../core/util")),a=e("../core/key"),u=e("../core/channelInfo"),c=window;t.exports=r},{"../conf/config":2,"../core/channelInfo":4,"../core/key":5,"../core/util":7,"../module/combineData":13}],16:[function(e,t,n){"use strict";function r(e,t){for(var n=0,r=e.length;r>n&&t.call(e,e[n],n)!==!1;n++);}function o(e){if(!d.test(e))return null;var t,n,r,o,i;if(s.is.contain(e,"trident/")&&(t=/\btrident\/([0-9.]+)/.exec(e),t&&t.length>=2)){r=t[1];var a=t[1].split(h);a[0]=parseInt(a[0],10)+4,i=a.join(h)}t=d.exec(e),o=t[1];var u=t[1].split(h);return s.is.undefined(i)&&(i=o),u[0]=parseInt(u[0],10)-4,n=u.join(h),s.is.undefined(r)&&(r=n),{browserVersion:i,browserMode:o,engineVersion:r,engineMode:n,compatible:r!==n}}function i(e){if(c)try{var t=c.twGetRunPath.toLowerCase(),n=c.twGetSecurityID(p),r=c.twGetVersion(n);if(t&&-1===t.indexOf(e))return!1;if(r)return{version:r}}catch(o){}}function a(e,t,n){var r=s.is.func(t)?t.call(null,n):t;if(!r)return null;var o={name:e,version:l,codename:""};if(r===!0)return o;if(s.is.string(r)){if(-1!==n.indexOf(r))return o}else{if(s.is.object(r))return r.hasOwnProperty("version")&&(o.version=r.version),o;if(r.exec){var i=r.exec(n);if(i)return i.length>=2&&i[1]?o.version=i[1].replace(/_/g,h):o.version=l,o}}}function u(e,t,n,o){var i=k;r(t,function(t){var n=a(t[0],t[1],e);return n?(i=n,!1):void 0}),n.call(o,i.name,i.version)}var c,s=e("../core/util"),f={},l="-1",p=this,d=/\b(?:msie |ie |trident\/[0-9].*rv[ :])([0-9.]+)/,b=/\bbb10\b.+?\bversion\/([\d.]+)/,v=/\bblackberry\b.+\bversion\/([\d.]+)/,g=/\bblackberry\d+\/([\d.]+)/,h=".",m="",w=[["nokia",function(e){return s.is.contain(e,"nokia ")?/\bnokia ([0-9]+)?/:/\bnokia([a-z0-9]+)?/}],["samsung",function(e){return s.is.contain(e,"samsung")?/\bsamsung(?:[ \-](?:sgh|gt|sm))?-([a-z0-9]+)/:/\b(?:sgh|sch|gt|sm)-([a-z0-9]+)/}],["wp",function(e){return s.is.contain(e,"windows phone ")||s.is.contain(e,"xblwp")||s.is.contain(e,"zunewp")||s.is.contain(e,"windows ce")}],["pc","windows"],["ipad","ipad"],["ipod","ipod"],["iphone",/\biphone\b|\biph(\d)/],["mac","macintosh"],["mi",/\bmi[ \-]?([a-z0-9 ]+(?= build|\)))/],["hongmi",/\bhm[ \-]?([a-z0-9]+)/],["aliyun",/\baliyunos\b(?:[\-](\d+))?/],["meizu",function(e){return s.is.contain(e,"meizu")?/\bmeizu[\/ ]([a-z0-9]+)\b/:/\bm([0-9x]{1,3})\b/}],["nexus",/\bnexus ([0-9s.]+)/],["huawei",function(e){var t=/\bmediapad (.+?)(?= build\/huaweimediapad\b)/;return s.is.contain(e,"huawei-huawei")?/\bhuawei\-huawei\-([a-z0-9\-]+)/:t.test(e)?t:/\bhuawei[ _\-]?([a-z0-9]+)/}],["lenovo",function(e){return s.is.contain(e,"lenovo-lenovo")?/\blenovo\-lenovo[ \-]([a-z0-9]+)/:/\blenovo[ \-]?([a-z0-9]+)/}],["zte",function(e){return/\bzte\-[tu]/.test(e)?/\bzte-[tu][ _\-]?([a-su-z0-9\+]+)/:/\bzte[ _\-]?([a-su-z0-9\+]+)/}],["vivo",/\bvivo(?: ([a-z0-9]+))?/],["htc",function(e){return/\bhtc[a-z0-9 _\-]+(?= build\b)/.test(e)?/\bhtc[ _\-]?([a-z0-9 ]+(?= build))/:/\bhtc[ _\-]?([a-z0-9 ]+)/}],["oppo",/\boppo[_]([a-z0-9]+)/],["konka",/\bkonka[_\-]([a-z0-9]+)/],["sonyericsson",/\bmt([a-z0-9]+)/],["coolpad",/\bcoolpad[_ ]?([a-z0-9]+)/],["lg",/\blg[\-]([a-z0-9]+)/],["android",/\bandroid\b|\badr\b/],["blackberry",function(e){return s.is.contain(e,"blackberry")?/\bblackberry\s?(\d+)/:"bb10"}]],y=[["wp",function(e){return s.is.contain(e,"windows phone ")?/\bwindows phone (?:os )?([0-9.]+)/:s.is.contain(e,"xblwp")?/\bxblwp([0-9.]+)/:s.is.contain(e,"zunewp")?/\bzunewp([0-9.]+)/:"windows phone"}],["windows",/\bwindows nt ([0-9.]+)/],["macosx",/\bmac os x ([0-9._]+)/],["ios",function(e){return/\bcpu(?: iphone)? os /.test(e)?/\bcpu(?: iphone)? os ([0-9._]+)/:s.is.contain(e,"iph os ")?/\biph os ([0-9_]+)/:/\bios\b/}],["yunos",/\baliyunos ([0-9.]+)/],["android",function(e){return s.is.contain(e,"android")?/\bandroid[ \/-]?([0-9.x]+)?/:s.is.contain(e,"adr")?s.is.contain(e,"mqqbrowser")?/\badr[ ]\(linux; u; ([0-9.]+)?/:/\badr(?:[ ]([0-9.]+))?/:"android"}],["chromeos",/\bcros i686 ([0-9.]+)/],["linux","linux"],["windowsce",/\bwindows ce(?: ([0-9.]+))?/],["symbian",/\bsymbian(?:os)?\/([0-9.]+)/],["blackberry",function(e){var t=e.match(b)||e.match(v)||e.match(g);return t?{version:t[1]}:"blackberry"}]],x=[["trident",d],["blink",function(){return"chrome"in p&&"CSS"in p&&/\bapplewebkit[\/]?([0-9.+]+)/}],["webkit",/\bapplewebkit[\/]?([0-9.+]+)/],["gecko",function(e){var t=e.match(/\brv:([\d\w.]+).*\bgecko\/(\d+)/);return t?{version:t[1]+h+t[2]}:void 0}],["presto",/\bpresto\/([0-9.]+)/],["androidwebkit",/\bandroidwebkit\/([0-9.]+)/],["coolpadwebkit",/\bcoolpadwebkit\/([0-9.]+)/],["u2",/\bu2\/([0-9.]+)/],["u3",/\bu3\/([0-9.]+)/]],S=[["sogou",function(e){return s.is.contain(e,"sogoumobilebrowser")?/sogoumobilebrowser\/([0-9.]+)/:s.is.contain(e,"sogoumse")?!0:/ se ([0-9.x]+)/}],["theworld",function(){var e=i("theworld");return s.is.undefined(e)?"theworld":e}],["360",function(e){var t=i("360se");return s.is.undefined(t)?s.is.contain(e,"360 aphone browser")?/\b360 aphone browser \(([^\)]+)\)/:/\b360(?:se|ee|chrome|browser)\b/:t}],["maxthon",function(){try{if(c&&(c.mxVersion||c.max_version))return{version:c.mxVersion||c.max_version}}catch(e){}return/\b(?:maxthon|mxbrowser)(?:[ \/]([0-9.]+))?/}],["qq",/\bm?qqbrowser\/([0-9.]+)/],["green","greenbrowser"],["tt",/\btencenttraveler ([0-9.]+)/],["liebao",function(e){if(s.is.contain(e,"liebaofast"))return/\bliebaofast\/([0-9.]+)/;if(!s.is.contain(e,"lbbrowser"))return!1;var t;try{c&&c.LiebaoGetVersion&&(t=c.LiebaoGetVersion())}catch(n){}return{version:t||l}}],["tao",/\btaobrowser\/([0-9.]+)/],["coolnovo",/\bcoolnovo\/([0-9.]+)/],["saayaa","saayaa"],["baidu",/\b(?:ba?idubrowser|baiduhd)[ \/]([0-9.x]+)/],["ie",d],["mi",/\bmiuibrowser\/([0-9.]+)/],["opera",function(e){var t=/\bopera.+version\/([0-9.ab]+)/,n=/\bopr\/([0-9.]+)/;return t.test(e)?t:n}],["oupeng",/\boupeng\/([0-9.]+)/],["yandex",/yabrowser\/([0-9.]+)/],["uc",function(e){return s.is.contain(e,"ucbrowser/")?/\bucbrowser\/([0-9.]+)/:s.is.contain(e,"ubrowser/")?/\bubrowser\/([0-9.]+)/:/\buc\/[0-9]/.test(e)?/\buc\/([0-9.]+)/:s.is.contain(e,"ucweb")?/\bucweb([0-9.]+)?/:/\b(?:ucbrowser|uc)\b/}],["chrome",/ (?:chrome|crios|crmo)\/([0-9.]+)/],["android",function(e){return s.is.contain(e,"android")?/\bversion\/([0-9.]+(?: beta)?)/:void 0}],["blackberry",function(e){var t=e.match(b)||e.match(v)||e.match(g);return t?{version:t[1]}:"blackberry"}],["safari",/\bversion\/([0-9.]+(?: beta)?)(?: mobile(?:\/[a-z0-9]+)?)? safari\//],["webview",/\bcpu(?: iphone)? os (?:[0-9._]+).+\bapplewebkit\b/],["firefox",/\bfirefox\/([0-9.ab]+)/],["nokia",/\bnokiabrowser\/([0-9.]+)/]],k={name:"na",version:l},O=function(e){e=(e||m).toLowerCase();var t={};u(e,w,function(e,n){var r=parseFloat(n);t.device={name:e,version:r,fullVersion:n},t.device[e]=r},t),u(e,y,function(e,n){var r=parseFloat(n);t.os={name:e,version:r,fullVersion:n},t.os[e]=r},t);var n=o(e);return u(e,x,function(e,r){var o=r;n&&(r=n.engineVersion||n.engineMode,o=n.engineMode);var i=parseFloat(r);t.engine={name:e,version:i,fullVersion:r,mode:parseFloat(o),fullMode:o,compatible:n?n.compatible:!1},t.engine[e]=i},t),u(e,S,function(e,r){var o=r;n&&("ie"===e&&(r=n.browserVersion),o=n.browserMode);var i=parseFloat(r);t.browser={name:e,version:i,fullVersion:r,mode:parseFloat(o),fullMode:o,compatible:n?n.compatible:!1},t.browser[e]=i},t),t},T=navigator.userAgent||m,C=navigator.appVersion||m,D=navigator.vendor||m;c=p.external,f=O(T+" "+C+" "+D),f.parse=O,f.ua=T,t.exports=f},{"../core/util":7}],17:[function(require,module,exports){"use strict";function f(e){return 10>e?"0"+e:e}function thisValue(){return this.valueOf()}function quote(e){return regexpEscapable.lastIndex=0,regexpEscapable.test(e)?'"'+e.replace(regexpEscapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,o,i,a,u=gap,c=t[e];switch(c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(e)),"function"==typeof rep&&(c=rep.call(t,e,c)),typeof c){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(c)){for(i=c.length,n=0;i>n;n+=1)a[n]=str(n,c)||"null";return o=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+u+"]":"["+a.join(",")+"]",gap=u,o}if(rep&&"object"==typeof rep)for(i=rep.length,n=0;i>n;n+=1)"string"==typeof rep[n]&&(r=rep[n],o=str(r,c),o&&a.push(quote(r)+(gap?": ":":")+o));else for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(o=str(r,c),o&&a.push(quote(r)+(gap?": ":":")+o));return o=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+u+"}":"{"+a.join(",")+"}",gap=u,o}}"object"!=typeof window.JSON&&(window.JSON={});var regexpOne=/^[\],:{}\s]*$/,regexpTwo=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,regexpThree=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,regexpFour=/(?:^|:|,)(?:\s*\[)+/g,regexpEscapable=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,regexpDangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=thisValue,Number.prototype.toJSON=thisValue,String.prototype.toJSON=thisValue);var gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;n>r;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,o=e[t];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(r=walk(o,n),void 0!==r?o[n]=r:delete o[n]);return reviver.call(e,t,o)}var j;if(text=String(text),regexpDangerous.lastIndex=0,regexpDangerous.test(text)&&(text=text.replace(regexpDangerous,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),regexpOne.test(text.replace(regexpTwo,"@").replace(regexpThree,"]").replace(regexpFour,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")}),module.exports=JSON},{}],18:[function(e,t,n){"use strict";function r(){}var o=e("../module/web.json"),i="ls",a=i+"_update",u="__"+i+"_meta";!function(e){function t(){var e=!1;if("localStorage"in window)try{window.localStorage.setItem("_tmptest","tmpval"),e=!0,window.localStorage.removeItem("_tmptest")}catch(t){}if(e)try{window.localStorage&&(O=window.localStorage,D="localStorage",P=O[a])}catch(n){}else if("globalStorage"in window)try{window.globalStorage&&(O="localhost"==window.location.hostname?window.globalStorage["localhost.localdomain"]:window.globalStorage[window.location.hostname],D="globalStorage",P=O[a])}catch(o){}else{if(T=document.createElement("link"),!T.addBehavior)return void(T=null);T.style.behavior="url(#default#userData)",document.getElementsByTagName("head")[0].appendChild(T);try{T.load(i)}catch(u){T.setAttribute(i,"{}"),T.save(i),T.load(i)}var s="{}";try{s=T.getAttribute(i)}catch(f){}try{P=T.getAttribute(a)}catch(l){}O[i]=s,D="userDataBehavior"}p(),v(),r(),g(),"addEventListener"in window&&window.addEventListener("pageshow",function(e){e.persisted&&c()},!1)}function n(){var e="{}";if("userDataBehavior"==D){T.load(i);try{e=T.getAttribute(i)}catch(t){}try{P=T.getAttribute(a)}catch(n){}O[i]=e}p(),v(),g()}function r(){"localStorage"==D||"globalStorage"==D?"addEventListener"in window?window.addEventListener("storage",c,!1):document.attachEvent("onstorage",c):"userDataBehavior"==D&&setInterval(c,1e3)}function c(){var e;clearTimeout(j),j=setTimeout(function(){if("localStorage"==D||"globalStorage"==D)e=O[a];else if("userDataBehavior"==D){T.load(i);try{e=T.getAttribute(a)}catch(t){}}e&&e!=P&&(P=e,s())},25)}function s(){var e,t=o.parse(o.stringify(k[u].CRC32));n(),e=o.parse(o.stringify(k[u].CRC32));var r,i=[],a=[];for(r in t)if(t.hasOwnProperty(r)){if(!e[r]){a.push(r);continue}t[r]!=e[r]&&"2."==String(t[r]).substr(0,2)&&i.push(r)}for(r in e)e.hasOwnProperty(r)&&(t[r]||i.push(r));f(i,"updated"),f(a,"deleted")}function f(e,t){e=[].concat(e||[]);var n,r,o,i;if("flushed"==t){e=[];for(var a in _)_.hasOwnProperty(a)&&e.push(a);t="deleted"}for(n=0,o=e.length;o>n;n++){if(_[e[n]])for(r=0,i=_[e[n]].length;i>r;r++)_[e[n]][r](e[n],t);if(_["*"])for(r=0,i=_["*"].length;i>r;r++)_["*"][r](e[n],t)}}function l(){var e=(+new Date).toString();if("localStorage"==D||"globalStorage"==D)try{O[a]=e}catch(t){D=!1}else"userDataBehavior"==D&&(T.setAttribute(a,e),T.save(i));c()}function p(){if(O[i])try{k=o.parse(String(O[i]))}catch(e){O[i]="{}"}else O[i]="{}";C=O[i]?String(O[i]).length:0,k[u]||(k[u]={}),k[u].CRC32||(k[u].CRC32={})}function d(){m();try{O[i]=o.stringify(k),T&&(T.setAttribute(i,O[i]),T.save(i)),C=O[i]?String(O[i]).length:0}catch(e){}}function b(e){if("string"!=typeof e&&"number"!=typeof e)throw new TypeError("Key name must be string or numeric");if(e==u)throw new TypeError("Reserved key name");return!0}function v(){var e,t,n,r,o=1/0,i=!1,a=[];if(clearTimeout(x),k[u]&&"object"==typeof k[u].TTL){e=+new Date,n=k[u].TTL,r=k[u].CRC32;for(t in n)n.hasOwnProperty(t)&&(n[t]<=e?(delete n[t],delete r[t],delete k[t],i=!0,a.push(t)):n[t]<o&&(o=n[t]));o!=1/0&&(x=setTimeout(v,Math.min(o-e,2147483647))),i&&(d(),l(),f(a,"deleted"))}}function g(){var e,t;if(k[u].PubSub){var n,r=I,o=[];for(e=t=k[u].PubSub.length-1;e>=0;e--)n=k[u].PubSub[e],n[0]>I&&(r=n[0],
o.unshift(n));for(e=o.length-1;e>=0;e--)h(o[e][1],o[e][2]);I=r}}function h(e,t){if(A[e])for(var n=0,r=A[e].length;r>n;n++)try{A[e][n](e,o.parse(o.stringify(t)))}catch(i){}}function m(){if(k[u].PubSub){for(var e=+new Date-2e3,t=0,n=k[u].PubSub.length;n>t;t++)if(k[u].PubSub[t][0]<=e){k[u].PubSub.splice(t,k[u].PubSub.length-t);break}k[u].PubSub.length||delete k[u].PubSub}}function w(e,t){k[u]||(k[u]={}),k[u].PubSub||(k[u].PubSub=[]),k[u].PubSub.unshift([+new Date,e,t]),d(),l()}function y(e,t){for(var n,r=e.length,o=t^r,i=0;r>=4;)n=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24,n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16),n^=n>>>24,n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16),o=1540483477*(65535&o)+((1540483477*(o>>>16)&65535)<<16)^n,r-=4,++i;switch(r){case 3:o^=(255&e.charCodeAt(i+2))<<16;case 2:o^=(255&e.charCodeAt(i+1))<<8;case 1:o^=255&e.charCodeAt(i),o=1540483477*(65535&o)+((1540483477*(o>>>16)&65535)<<16)}return o^=o>>>13,o=1540483477*(65535&o)+((1540483477*(o>>>16)&65535)<<16),o^=o>>>15,o>>>0}var x,S="0.4.12",k={},O={},T=null,C=0,D=!1,_={},j=!1,P=0,A={},I=+new Date;k[u]={CRC32:{}},O[i]="{}",e.prototype={version:S,set:function(e,t,n){return b(e),n=n||{},"undefined"==typeof t?(this.deleteKey(e),t):"function"!=typeof t?(t&&"object"==typeof t&&(t=o.parse(o.stringify(t))),k[e]=t,k[u].CRC32[e]="2."+new y(o.stringify(t),2538058380),this.setTTL(e,n.TTL||0),f(e,"updated"),t):void 0},quickSet:function(e,t){if(!e)return!1;try{var n=o.stringify(t);O[e]=n,T&&(T.setAttribute(e,n),T.save(e))}catch(r){}},quickGet:function(e){return b(e),e in O?O[e]:null},quickRemove:function(e){return b(e),e in O?(delete O[e],!0):!1},quickIndex:function(){var e,t=[];for(e in O)O.hasOwnProperty?O.hasOwnProperty(e)&&e!=u&&t.push(e):O[e]&&e!=u&&t.push(e);return t},get:function(e,t){return b(e),e in k?k[e]:"undefined"==typeof t?null:t},deleteKey:function(e){return b(e),e in k?(delete k[e],"object"==typeof k[u].TTL&&e in k[u].TTL&&delete k[u].TTL[e],delete k[u].CRC32[e],d(),l(),f(e,"deleted"),!0):!1},setTTL:function(e,t){var n=+new Date;return b(e),t=Number(t)||0,e in k?(k[u].TTL||(k[u].TTL={}),t>0?k[u].TTL[e]=n+t:delete k[u].TTL[e],d(),v(),l(),!0):!1},getTTL:function(e){var t,n=+new Date;return b(e),e in k&&k[u].TTL&&k[u].TTL[e]?(t=k[u].TTL[e]-n,t||0):0},flush:function(){return k={},k[u]={CRC32:{}},d(),l(),f(null,"flushed"),!0},storageObj:function(){function e(){}return e.prototype=k,new e},index:function(){var e,t=[];for(e in k)k.hasOwnProperty(e)&&e!=u&&t.push(e);return t},storageSize:function(){return C},currentBackend:function(){return D},storageAvailable:function(){return!!D},listenKeyChange:function(e,t){b(e),_[e]||(_[e]=[]),_[e].push(t)},stopListening:function(e,t){if(b(e),_[e]){if(!t)return void delete _[e];for(var n=_[e].length-1;n>=0;n--)_[e][n]==t&&_[e].splice(n,1)}},subscribe:function(e,t){if(e=(e||"").toString(),!e)throw new TypeError("Channel not defined");A[e]||(A[e]=[]),A[e].push(t)},publish:function(e,t){if(e=(e||"").toString(),!e)throw new TypeError("Channel not defined");w(e,t)},reInit:function(){n()}},t()}(r),t.exports=new r},{"../module/web.json":17}]},{},[11]);